
### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤: –æ—Ç–º–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ üé¨

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –ø–æ—Ç–æ–∫–æ–≤—ã–π –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –æ–≥—Ä–æ–º–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ "largefile.txt" (–ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ —ç—Ç–æ –≤–∏–¥–µ–æ), –Ω–æ –ø–æ—á—Ç–∏ —Å—Ä–∞–∑—É –∂–µ –ø–µ—Ä–µ–¥—É–º—ã–≤–∞–µ—Ç –∏ —Ä–µ—à–∞–µ—Ç –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ –∏–ª–∏ –≤–æ–≤—Å–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í–∞–º –Ω—É–∂–Ω–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å —Ç–µ–∫—É—â—É—é –∑–∞–≥—Ä—É–∑–∫—É, —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏ –Ω–µ –∑–∞–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ "largefile.txt" —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ read, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Future<Integer>. –≠—Ç–æ Future –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–µ–π.

–°—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —á—Ç–µ–Ω–∏—è, —Å–∏–º—É–ª–∏—Ä—É–π—Ç–µ –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–¥–æ–∂–¥–∞–≤ –≤—Å–µ–≥–æ 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥. –ó–∞—Ç–µ–º –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–∑–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥ cancel(true) –¥–ª—è –≤–∞—à–µ–≥–æ Future, —á—Ç–æ–±—ã –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–º–µ–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é.

–ï—Å–ª–∏ –æ—Ç–º–µ–Ω–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω "–ß—Ç–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ". –ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –æ—Ç–º–µ–Ω–∏—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å, —Å–æ–æ–±—â–∏—Ç–µ: "–û–ø–µ—Ä–∞—Ü–∏—é –æ—Ç–º–µ–Ω–∏—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å".

–ò —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –µ—ë —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ future.get(). –ï—Å–ª–∏ –≤—Å—ë —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ CancellationException, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏ –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–û–ø–µ—Ä–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–∞".

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AsynchronousFileChannel –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ "largefile.txt".
2. –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–æ –º–µ—Ç–æ–¥–æ–º read, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Future<Integer>.
3. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —á—Ç–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø–æ–ø—ã—Ç–∫–æ–π –æ—Ç–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–∏.
4. –ü–æ—Å–ª–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ cancel(true) —É Future. –ï—Å–ª–∏ –æ—Ç–º–µ–Ω–∞ —É—Å–ø–µ—à–Ω–∞, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ "–ß—Ç–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ". –ï—Å–ª–∏ –æ—Ç–º–µ–Ω–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ "–û–ø–µ—Ä–∞—Ü–∏—é –æ—Ç–º–µ–Ω–∏—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å".
5. –ü–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–º–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å future.get() –∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ CancellationException. –í —Å–ª—É—á–∞–µ –µ–≥–æ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –≤—ã–≤–µ—Å—Ç–∏ "–û–ø–µ—Ä–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–∞".