
### –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É—á—ë—Ç –∑–∞–ø–∞—Å–æ–≤ —Å–∫–ª–∞–¥–∞ üì¶

–í—ã –æ—Ç–≤–µ—á–∞–µ—Ç–µ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —É—á—ë—Ç–∞ –∑–∞–ø–∞—Å–æ–≤ –¥–ª—è –∫—Ä—É–ø–Ω–æ–≥–æ –æ–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω–∞. –£—Ä–æ–≤–µ–Ω—å stockLevel –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å –∞–±—Å–æ–ª—é—Ç–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –∏–ª–∏ –∏–∑—ä—è—Ç–∏—é —Ç–æ–≤–∞—Ä–æ–≤.

–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∞—Å—Å InventoryManager. –í –Ω—ë–º –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –ø–æ–ª–µ stockLevel, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞. –ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∏—Å–∫–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ, –¥–æ–±–∞–≤—å—Ç–µ —Ç–∞–∫–∂–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ —Ç–∏–ø–∞ ReentrantLock. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ adjustStockLevel(): —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å stockLevel –Ω–∞ 1. –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –æ–Ω –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å –ø–æ–º–æ—â—å—é lock.lock() –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–ª –µ—ë —Å –ø–æ–º–æ—â—å—é lock.unlock() –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ try...finally, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ getCurrentStock(), –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ stockLevel, —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—è –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è. –í –≤–∞—à–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ, –∏–º–∏—Ç–∏—Ä—É—é—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ, —Å–æ–∑–¥–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç InventoryManager. –°—ã–º–∏—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞, –≤—ã–∑–≤–∞–≤ adjustStockLevel(), –∑–∞—Ç–µ–º –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –Ω–∞ —ç–∫—Ä–∞–Ω —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ getCurrentStock(), —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –ö–ª–∞—Å—Å InventoryManager –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –ø–æ–ª–µ stockLevel, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ.
2. –ö–ª–∞—Å—Å InventoryManager –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ —Ç–∏–ø–∞ ReentrantLock –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—é stockLevel.
3. –ú–µ—Ç–æ–¥ adjustStockLevel() –¥–æ–ª–∂–µ–Ω —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ stockLevel –Ω–∞ 1, –ø—Ä–∏ —ç—Ç–æ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å lock.lock() –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ lock.unlock() –¥–ª—è –µ—ë –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ try...finally.
4. –ú–µ—Ç–æ–¥ getCurrentStock() –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ stockLevel, –ø—Ä–∏ —ç—Ç–æ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å lock.lock() –∏ lock.unlock() –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ try...finally –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
5. –í –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –æ–±—ä–µ–∫—Ç InventoryManager.
6. –í –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ adjustStockLevel() –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∑–∞–ø–∞—Å–∞ —Ç–æ–≤–∞—Ä–∞.
7. –í –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ getCurrentStock() —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ adjustStockLevel(), –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–≤–µ–¥–µ–Ω –Ω–∞ —ç–∫—Ä–∞–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.