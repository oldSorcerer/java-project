
### –ù–∞–¥—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π üí≥

–í—ã —Å–æ–∑–¥–∞—ë—Ç–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ –≤–∞–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫–æ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ö–∞–∂–¥—ã–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç transactionCount –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω, –∏, —á—Ç–æ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, —Å–∏—Å—Ç–µ–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å —Å–≤–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –¥–æ—Å—Ç—É–ø–∞, —á—Ç–æ –±—ã –Ω–∏ —Å–ª—É—á–∏–ª–æ—Å—å, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ç—É–ø–∏–∫–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π.

–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∞—Å—Å TransactionProcessor. –ï–º—É –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –ø–æ–ª–µ transactionCount –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä ReentrantLock –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ processTransaction(). –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å transactionCount –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É. –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞: –æ–Ω –æ–±—è–∑–∞–Ω –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å –ø–æ–º–æ—â—å—é lock.lock() –∏ –∑–∞—Ç–µ–º, –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –µ—ë, –≤—ã–∑–≤–∞–≤ lock.unlock() –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ finally. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞.

–í –≤–∞—à–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–æ–∑–¥–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç TransactionProcessor. –ü—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –µ–≥–æ –Ω–∞–¥—ë–∂–Ω—É—é —Ä–∞–±–æ—Ç—É, –≤—ã–∑–≤–∞–≤ processTransaction() –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ —Å–±–æ–µ–≤, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—è, —á—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∏ transactionCount –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –ö–ª–∞—Å—Å TransactionProcessor –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ —Ç–∏–ø–∞ ReentrantLock –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º.
2. –ö–ª–∞—Å—Å TransactionProcessor –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –ø–æ–ª–µ transactionCount, –∫–æ—Ç–æ—Ä–æ–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ processTransaction().
3. –ú–µ—Ç–æ–¥ processTransaction() –¥–æ–ª–∂–µ–Ω –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å –ø–æ–º–æ—â—å—é lock.lock() –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –µ—ë —Å –ø–æ–º–æ—â—å—é lock.unlock() –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ finally.
4. –ú–µ—Ç–æ–¥ processTransaction() –¥–æ–ª–∂–µ–Ω –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–ª–∞ –º–µ—Ç–æ–¥–∞.
5. –í –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç TransactionProcessor, –≤—ã–∑–≤–∞—Ç—å processTransaction() –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏–π –∏ –æ—à–∏–±–æ–∫.
6. –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ processTransaction() –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∑–Ω–∞—á–µ–Ω–∏–µ transactionCount –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–∞.