
### –ú–æ–∑–≥–æ–≤–æ–π —Ü–µ–Ω—Ç—Ä –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞: –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π üß†‚ûï‚ûñ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –º–æ–∑–≥–æ–≤–æ–π —Ü–µ–Ω—Ç—Ä –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –∏ –≤—ã—á–∏—Ç–∞—Ç—å, –∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–π (sealed) –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Expr, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª—É–∂–∏—Ç—å –∫–æ—Ä–Ω–µ–º –¥–ª—è –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

–†–∞–∑—Ä–µ—à–∏—Ç–µ —ç—Ç–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∏–º–µ—Ç—å –ª–∏—à—å —Ç—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–∞ –ø–æ—Ç–æ–º–∫–æ–≤: NumberExpr (—Ö—Ä–∞–Ω—è—â–∏–π —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ value), PlusExpr (–¥–ª—è —Å–ª–æ–∂–µ–Ω–∏—è –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, left –∏ right), –∏ MinusExpr (–¥–ª—è –≤—ã—á–∏—Ç–∞–Ω–∏—è, —Ç–∞–∫–∂–µ —Å left –∏ right –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏). –í—Å–µ —ç—Ç–∏ —Ç—Ä–∏ —Ç–∏–ø–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ record-–∫–ª–∞—Å—Å—ã, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö, —Ä–∞–∑—É–º–µ–µ—Ç—Å—è, —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤–∞—à –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Expr.

–¢–µ–ø–µ—Ä—å —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ: —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ int eval(Expr expressionToEvaluate), –∫–æ—Ç–æ—Ä—ã–π, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—É—é –≥–∏–±–∫–æ—Å—Ç—å switch —Å record patterns, —Å–º–æ–∂–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –µ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ –º–æ—â—å, –≤–æ–∑—å–º–∏—Ç–µ, –∫ –ø—Ä–∏–º–µ—Ä—É, –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ PlusExpr(NumberExpr(7), MinusExpr(NumberExpr(10), NumberExpr(3))). –í–∞—à –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±–µ–∑ —Ç—Ä—É–¥–∞ –≤—ã—á–∏—Å–ª–∏—Ç—å –µ–≥–æ –∏ –≤–µ—Ä–Ω—É—Ç—å 14. –í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤, –≥–æ—Ä–¥–æ –≤—ã–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω.

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—ä—è–≤–∏—Ç—å sealed-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Expr, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª—É–∂–∏—Ç—å –∫–æ—Ä–Ω–µ–º –∏–µ—Ä–∞—Ä—Ö–∏–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π.
2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Expr –¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä–µ—à–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–∞-–ø–æ—Ç–æ–º–∫–∞: NumberExpr, PlusExpr –∏ MinusExpr.
3. –ö–ª–∞—Å—Å—ã NumberExpr, PlusExpr –∏ MinusExpr –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ record-–∫–ª–∞—Å—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Expr.
4. NumberExpr –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–¥–Ω–æ –ø–æ–ª–µ value —Ç–∏–ø–∞ int. PlusExpr –∏ MinusExpr –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–≤–∞ –ø–æ–ª—è —Ç–∏–ø–∞ Expr: left –∏ right.
5. –ú–µ—Ç–æ–¥ eval –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å switch —Å record patterns –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Expr –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
6. –ú–µ—Ç–æ–¥ eval –¥–æ–ª–∂–µ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è PlusExpr –∏ MinusExpr, –≤—ã–∑—ã–≤–∞—è —Å–µ–±—è –¥–ª—è left –∏ right –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏–π.
7. –í—ã–∑–æ–≤ eval –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è PlusExpr(NumberExpr(7), MinusExpr(NumberExpr(10), NumberExpr(3))) –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 14.
8. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–≤–µ–¥–µ–Ω –Ω–∞ —ç–∫—Ä–∞–Ω.