
### –°–ø–∞—Å–µ–Ω–∏–µ –æ—Ç —Ç—É–ø–∏–∫–∞: –£–º–Ω—ã–µ –∏–Ω–∂–µ–Ω–µ—Ä—ã —Å —Ç–∞–π–º–∞—É—Ç–æ–º üõ†Ô∏è

–í—ã ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã, —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –¥–≤—É–º—è –≤—ã—Å–æ–∫–æ—Ü–µ–Ω–Ω—ã–º–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –ê –∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –ë. –≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –∏–Ω–∂–µ–Ω–µ—Ä–∞–º –ß–∞—Ä–ª–∏ –∏ –î–µ–ª—å—Ç–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –æ–±–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∞ –º–æ–≥—É—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —á—Ç–æ –≥—Ä–æ–∑–∏—Ç —Ç–µ–º —Å–∞–º—ã–º "—Ç—É–ø–∏–∫–æ–º", –æ –∫–æ—Ç–æ—Ä–æ–º –º—ã –≥–æ–≤–æ—Ä–∏–ª–∏ —Ä–∞–Ω–µ–µ.

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ö–∞–æ—Å–∞ –∏ –ø—Ä–æ—Å—Ç–æ—è, –≤—ã —Ä–µ—à–∞–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é: –∫–∞–∂–¥—ã–π –∏–Ω–∂–µ–Ω–µ—Ä –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –æ–∂–∏–¥–∞–Ω–∏—è. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ —Ç–∏–ø–∞ ReentrantLock, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ê –∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ë.

–ù–∞–ø–∏—à–∏—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ø—ã—Ç–∫—É –∏–Ω–∂–µ–Ω–µ—Ä–∞ –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ê, –æ–∂–∏–¥–∞—è –Ω–µ –±–æ–ª–µ–µ 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥. –ï—Å–ª–∏ —ç—Ç–æ —É–¥–∞–ª–æ—Å—å, –æ–Ω –∑–∞—Ç–µ–º –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ë, —Ç–æ–∂–µ —Å —Ç–∞–π–º–∞—É—Ç–æ–º –≤ 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.

–ï—Å–ª–∏ –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞—Ö–≤–∞—á–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–¥–æ—Å—Ç–Ω–æ –æ–±—ä—è–≤–∏—Ç—å "–û–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∑–∞—Ö–≤–∞—á–µ–Ω—ã!" –∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –∏—Ö, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –º–æ–≥–ª–∏ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è. –ù–æ –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –≤ –æ—Ç–≤–µ–¥—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è, –∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏—Ç—å "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞" –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω —É—Å–ø–µ–ª –∑–∞—Ö–≤–∞—Ç–∏—Ç—å, —á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–º–µ—Ö.

–í—ã–∑–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏–∑ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤, –∏–º–∏—Ç–∏—Ä—É—é—â–∏—Ö —Ä–∞–±–æ—Ç—É –∏–Ω–∂–µ–Ω–µ—Ä–∞ –ß–∞—Ä–ª–∏ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–∞ –î–µ–ª—å—Ç–∞, –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞–≥–ª—è–¥–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ tryLock –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–∂–µ–Ω–µ—Ä–∞–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –í –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ —Ç–∏–ø–∞ ReentrantLock, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ê –∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ë).
2. –ò–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ê —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ tryLock —Å —Ç–∞–π–º–∞—É—Ç–æ–º 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥. –ï—Å–ª–∏ –∑–∞—Ö–≤–∞—Ç —É—Å–ø–µ—à–µ–Ω, –¥–∞–ª–µ–µ –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ë —Ç–∞–∫–∂–µ —Å –ø–æ–º–æ—â—å—é tryLock —Å —Ç–∞–π–º–∞—É—Ç–æ–º 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.
3. –ï—Å–ª–∏ –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞—Ö–≤–∞—á–µ–Ω—ã, –∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ "–û–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∑–∞—Ö–≤–∞—á–µ–Ω—ã!" –∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –æ–±–∞ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.
4. –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –æ—Ç–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –æ–±–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞" –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω —É—Å–ø–µ–ª –∑–∞—Ö–≤–∞—Ç–∏—Ç—å.
5. –ú–µ—Ç–æ–¥, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –ª–æ–≥–∏–∫—É –∑–∞—Ö–≤–∞—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å —Ç–∞–π–º–∞—É—Ç–æ–º, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤, –∏–º–∏—Ç–∏—Ä—É—é—â–∏—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –ß–∞—Ä–ª–∏ –∏ –î–µ–ª—å—Ç–∞.
6. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é tryLock —Å —Ç–∞–π–º–∞—É—Ç–æ–º deadlock –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∏ –æ–±–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∞ –º–æ–≥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤.
7. –í—Å–µ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ lock'–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞—Ö–≤–∞—Ç–∞ –æ–±–æ–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤.